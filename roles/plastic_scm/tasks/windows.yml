---
# plastic_scm/tasks/windows.yml — Full Plastic SCM setup (used by site.yml)
#
# Runs all steps: install → auth → workspace → sync
# Individual playbooks use tasks_from to run specific steps.

- name: Plastic SCM operations (Windows)
  when: plastic_workspace | length > 0
  block:
    - name: Install Plastic SCM
      ansible.builtin.include_tasks: windows_install.yml

    - name: Configure Plastic SCM UI theme
      ansible.builtin.include_tasks: windows_ui_theme.yml

    - name: Authenticate Plastic SCM
      ansible.builtin.include_tasks: windows_auth.yml

    - name: Create Plastic SCM workspace
      ansible.builtin.include_tasks: windows_workspace.yml

    - name: Sync Plastic SCM workspace
      ansible.builtin.include_tasks: windows_sync.yml

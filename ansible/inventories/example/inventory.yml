---
# Ansible inventory for Proxmox pulse nodes
# Copy to inventory.yml and customize

all:
  children:
    pulse_nodes:
      hosts:
        # Add your Proxmox VM nodes here
        pulse-node-01:
          ansible_host: 192.168.1.101
          ansible_user: pulse
          # Per-node workspace override (optional)
          # plastic_workspace: /opt/pulse/workspace

        pulse-node-02:
          ansible_host: 192.168.1.102
          ansible_user: pulse

        pulse-node-03:
          ansible_host: 192.168.1.103
          ansible_user: pulse

      vars:
        # Common settings for all pulse nodes
        ansible_python_interpreter: /usr/bin/python3

        # Plastic SCM settings
        plastic_workspace: /opt/pulse/workspace
        plastic_repo: "MyRepo"
        plastic_server: "cloud"  # or your server address
        plastic_branch: /main

        # Auth - prefer env vars or ansible-vault for secrets
        # plastic_user: "{{ lookup('env', 'PLASTIC_USER') }}"
        # plastic_password: "{{ lookup('env', 'PLASTIC_PASSWORD') }}"

    ndisplay_nodes:
      hosts:
        node-1:
          sync_ip: "10.10.10.1"
          media_ip: "10.10.20.1"
          ndisplay_primary: true

        node-2:
          sync_ip: "10.10.10.2"
          media_ip: "10.10.20.2"

        node-3:
          sync_ip: "10.10.10.3"
          media_ip: "10.10.20.3"

        node-4:
          sync_ip: "10.10.10.4"
          media_ip: "10.10.20.4"

      vars:
        ansible_connection: winrm
        ansible_winrm_transport: basic
        ansible_user: Administrator
        ansible_password: "{{ lookup('env', 'NDISPLAY_ADMIN_PASSWORD') }}"

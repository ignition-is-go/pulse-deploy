# -----------------------------------------------------------------------------
# Proxmox connection
# -----------------------------------------------------------------------------

proxmox_endpoint = "https://nyc-prod-pve-01.local:8006"
proxmox_username = "root@pam"
proxmox_password = "CHANGEME"

# -----------------------------------------------------------------------------
# Proxmox hosts — physical hardware inventory
# -----------------------------------------------------------------------------

proxmox_hosts = {
  "nyc-prod-pve-01" = {
    cores      = 128
    memory_gb  = 1133
    storage_gb = 6700
    storage_id = "zfs-nvme-01"
    gpus = [
      "0000:63:00.0",
      "0000:d6:00.0",
    ]
    cx6_vfs = [
      "0000:92:00.2",
      "0000:92:00.3",
    ]
  }
}

# -----------------------------------------------------------------------------
# Templates
# -----------------------------------------------------------------------------

windows_template_id = 9000
linux_template_id   = 9001
lxc_template        = "local:vztmpl/debian-12-standard_12.7-1_amd64.tar.zst"

# -----------------------------------------------------------------------------
# Network
# -----------------------------------------------------------------------------

network_bridge  = "vmbr0"
network_gateway = "192.168.1.1"
dns_servers     = ["192.168.1.1"]

# -----------------------------------------------------------------------------
# SSH key for Linux targets
# -----------------------------------------------------------------------------

ssh_public_key = "ssh-ed25519 AAAA... user@control-plane"

# =============================================================================
# Node definitions — gpu_slots index into proxmox_hosts[node].gpus,
#                    cx6_slot indexes into proxmox_hosts[node].cx6_vfs
# =============================================================================

# --- Windows GPU VMs ---

ue_render_nodes = {
  "ue-render-01" = {
    ip        = "192.168.1.100"
    node      = "nyc-prod-pve-01"
    cores     = 16
    memory_mb = 98304
    disk_gb   = 100
    gpu_slots = [0]
    cx6_slot  = 0
  }
}

touch_nodes     = {}
arnold_nodes    = {}
workstations    = {}

# --- Windows VMs (no GPU) ---

ue_build_nodes   = {}
ue_staging_nodes = {}
pixelfarm_nodes = {}
runner_win_nodes = {}

# --- Linux GPU VMs ---

optik_nodes = {
  # "optik-01" = {
  #   ip        = "192.168.1.50"
  #   node      = "nyc-prod-pve-01"
  #   cores     = 32
  #   memory_mb = 131072
  #   disk_gb   = 200
  #   gpu_slots = [0, 1, 2, 3, 4, 5, 6, 7]  # all 8 GPUs on host
  # }
}

# --- LXC containers ---

runner_lxc_nodes  = {}
rship_nodes       = {}
gitlab_nodes      = {}
pulse_admin_nodes = {}
